{% extends "_layout.html" %}
{% block page_title %}Login{% endblock page_title %}

{% block content %}


{% if form.non_field_errors %}
    {% for error in form.non_field_errors %}
        <div class="row">
            <p class="col-sm-6 col-sm-offset-3 message error">{{ error }}</p>
        </div>
    {% endfor %}
{% endif %}

<form method="post" action="{% url 'django.contrib.auth.views.login' %}" name="login">
    {% csrf_token %}
    <div class="col-sm-6 col-sm-offset-3">
        {% include "partials/messages.html" %}
        <h3>Login</h3>
        <div class="form-group" has-error>
            <div class="label label-danger">{{ form.username.errors.as_text }}</div>
            <input type="text" name="username" class="form-control" placeholder="Username">
        </div>
        <div class="form-group" has-error>
            <div class="label label-danger">{{ form.password.errors.as_text }}</div>
            <input type="password" name="password" class="form-control" placeholder="Password">
            <div class="pull-right"><a href="{% url 'register' %}">Register</a></div>
        </div>
        <input type="submit" class="btn submit" value="Submit" />
        <input type="hidden" name="next" value="{{ next  }}" />
    </div>
</form>

{% endblock %}
